<!DOCTYPE html>
<html lang="en"><head>
<script src="steaming-raw_files/libs/quarto-html/tabby.min.js"></script>
<script src="steaming-raw_files/libs/quarto-html/popper.min.js"></script>
<script src="steaming-raw_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="steaming-raw_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="steaming-raw_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="steaming-raw_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Matteo Francia   DISI — University of Bologna   m.francia@unibo.it">
  <title>Data Platforms and Artificial Intelligence</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="steaming-raw_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="steaming-raw_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="steaming-raw_files/libs/revealjs/dist/theme/quarto-6391498a111a1f00b0d941bda0c7e264.css">
  <link href="steaming-raw_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="steaming-raw_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="steaming-raw_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="steaming-raw_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Data Platforms and Artificial Intelligence</h1>
  <p class="subtitle">Challenges and Applications</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Matteo Francia <br> DISI — University of Bologna <br> m.francia@unibo.it 
</div>
</div>
</div>

</section>
<section id="streaming" class="title-slide slide level1 center">
<h1>Streaming</h1>
<ul>
<li>Simple computations over small amounts of continuously incoming data
<ul>
<li>Execution is in near-real-time</li>
</ul></li>
<li>What we need
<ul>
<li>A message queueing service</li>
<li>An execution engine</li>
</ul></li>
</ul>
</section>

<section id="streaming-system-definition" class="title-slide slide level1 center">
<h1>Streaming system definition</h1>
<ul>
<li>The term “streaming” has been used to mean a variety of different things
<ul>
<li>Video streaming</li>
<li>Streaming systems</li>
<li>Streaming algorithms</li>
</ul></li>
<li>In our context, a <em>system for data</em> s <em>treaming </em> is</li>
<li><strong><em>in mind </em></strong></li>
<li>Remember that
<ul>
<li>Batch engines can be (and have been) used to process infinite datasets</li>
<li>Streaming engines can be (and have been) used to process finite datasets #</li>
</ul></li>
</ul>
<p>Un sistema dedicato all’elaborazione dei dati e pensato, progettato per elaborare dataset infiniti.</p>
<p>DA MIGLIORARE</p>
</section>

<section id="data-streaming-characteristics" class="title-slide slide level1 center">
<h1>Data streaming characteristics</h1>
<ul>
<li><strong>Infinite dataset</strong>
<ul>
<li>Data is always being generated</li>
<li><strong>No control over the order</strong> in which data elements arrive</li>
</ul></li>
<li><strong>Infinite computation</strong>
<ul>
<li>The system must be always on and must be able to keep up with the data
<ul>
<li>There must be a plan to avoid <em>overflowing </em> (e.g., auto-scalability)</li>
</ul></li>
</ul></li>
<li><strong>Low-latency, approximate and/or speculative results</strong>
<ul>
<li>Data can usually be processed a single time ( <strong><em>one pass</em></strong> )</li>
<li>Only a fraction of the dataset can be kept in memory for analyses</li>
<li><strong>Approximation may be required</strong> to accommodate the low-latency requirement</li>
</ul></li>
</ul>
</section>

<section id="architecture" class="title-slide slide level1 center">
<h1>Architecture</h1>
<p>Message queuing</p>
<p>(event-driven service bus)</p>
<p>Long term storage</p>
<p>In-memory storage</p>
</section>

<section id="message-queuing-tier" class="title-slide slide level1 center">
<h1>Message queuing tier</h1>
<ul>
<li>The message queuing tier handles the <strong>transportation of data between different tiers</strong>
<ul>
<li>Most importantly, between collection to analysis tiers</li>
</ul></li>
<li>Why message queuing?
<ul>
<li>By <strong>decoupling the pipeline of operations</strong> (collection, analysis, data access), each node in the cluster will do <em>one</em> job only</li>
<li>Message queuing provides a solid framework for a <strong>safe communication</strong> between such nodes</li>
<li>Message queuing handles <strong>funneling</strong> of <em>n </em> data streams to <em>m </em> consumers</li>
</ul></li>
</ul>

<img data-src="img/phdslides_57.png" class="r-stretch"></section>

<section id="section" class="title-slide slide level1 center">
<h1></h1>
<p>Funnel: imbuto Funnelling: accodamento?</p>
</section>

<section id="producer-broker-consumer" class="title-slide slide level1 center">
<h1>Producer-Broker-Consumer</h1>
<ul>
<li>Core concepts
<ul>
<li>The <strong>Consumer</strong> of data</li>
<li>The <strong>queues</strong> of data</li>
</ul></li>
</ul>

<img data-src="img/phdslides_58.png" class="r-stretch"></section>

<section id="fiware" class="title-slide slide level1 center">
<h1>FIWARE</h1>
<p><img data-src="img/phdslides_59.jpg"></p>
<p><img data-src="img/phdslides_60.png"></p>
</section>

<section id="message-delivery-semantics" class="title-slide slide level1 center">
<h1>Message delivery semantics</h1>
<ul>
<li><strong><em>Exactly once</em></strong> : a message is never lost and is read once and only once
<ul>
<li>Required in applications where data means money (financial/ad systems)</li>
<li>Performance is sacrificed to provide safety mechanisms</li>
</ul></li>
<li><strong><em>At most once</em></strong> : a message may get lost, but it will never be read twice
<ul>
<li>Allowed where not all data is required (monitoring systems, down-sampling)</li>
<li>Fast and trivial</li>
</ul></li>
<li><strong><em>At least once</em></strong> : a message will never be lost, but it may be read twice
<ul>
<li>Balances the two previous semantics</li>
<li>Easier to provide than <em>exactly once</em></li>
<li>The consumer can still check for duplicates to adopt <em>exactly once</em></li>
</ul></li>
<li>Beware: guarantees depends on the chosen tools + application logic <em>on the whole pipeline</em> #</li>
</ul>
<p>Che cosa sono le garanzie semantiche? Cercare una definizione. – livello di garanzia sulla consegna del messaggio The general theory is that appropriate message handling, beyond ensuring that they are delivered at least once, is dependent on the application logic and should be handled at that level</p>
</section>

<section id="analysis-continuous-queries" class="title-slide slide level1 center">
<h1>Analysis: continuous queries</h1>
<ul>
<li>A <strong>issued once and then is continuously executed</strong> against the data
<ul>
<li>In contrast, traditional queries are simply executed once when issued</li>
<li>A continuous query may need to maintain a <strong>state</strong></li>
</ul></li>
<li>State: an intermediate result that is continuously updated by the query
<ul>
<li>A query is <em>stateless </em> if each execution is independent from the other</li>
</ul></li>
<li>What makes continuous queries different from traditional ones?
<ul>
<li><strong>Memory constraint</strong> (for both data processing and state maintenance)
<ul>
<li>Data cannot be processed altogether ( <em>one pass</em> __ algorithms__ )</li>
<li>Not much space to store the state</li>
</ul></li>
<li><strong>Time constraint</strong>
<ul>
<li>Data that can’t be processed in time may have to be dropped ( <em>load shedding</em> )</li>
<li>Algorithms (e.g., predictive models) may lose efficacy over time ( <em>concept drift</em> ) #</li>
</ul></li>
</ul></li>
</ul>
<p>NON SONO TUTTI MEMORY CONSTRAINT [SD qua e là] [thus] Input data is processed either on a per-tuple or per-window basis one pass: can’t iterate on the data, would require too much memory since I’m computing one piece at a time, I need to know how to aggregate it</p>
</section>

<section id="continuous-query-model" class="title-slide slide level1 center">
<h1>Continuous query model</h1>
<table class="caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"></th>
<th style="text-align: center;">Typical query</th>
<th style="text-align: center;">Continuous query</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Query model</td>
<td style="text-align: center;">Queries are based on a one-time model and a consistent state of the data <strong>Pull model</strong> : the user executes a query and gets an answer, and the query is forgotten</td>
<td style="text-align: center;">The query is continuously executed based on the data that is flowing into the system <strong>Push model</strong> : a user registers a query once, and the results are regularly pushed to the client</td>
</tr>
<tr class="even">
<td style="text-align: center;">Query state</td>
<td style="text-align: center;">If the system crashes while a query is being executed, it must be re-issued on the whole dataset</td>
<td style="text-align: center;">Registered continuous queries may or may not need to continue where they left off; in the first case, a <strong>state </strong> has to be maintained</td>
</tr>
</tbody>
</table>
</section>

<section id="section-1" class="title-slide slide level1 center">
<h1></h1>
<p>[SD]</p>
</section>

<section id="distributed-execution" class="title-slide slide level1 center">
<h1>Distributed execution</h1>
<p>An architecture that is common to different frameworks</p>

<img data-src="img/phdslides_61.png" class="r-stretch"></section>

<section id="sliding-windows" class="title-slide slide level1 center">
<h1>Sliding windows</h1>
<ul>
<li><strong>Sliding windows define length and period in terms of stream time</strong>
<ul>
<li>Beware of the difference between event time and stream time</li>
</ul></li>
<li>Depending on the comparison of length and period, specialized versions of sliding windows can be defined
<ul>
<li><strong>Fixed windows</strong> : when length and period are the same
<ul>
<li>E.g.: analyze the last 5 minutes of data every 5 minutes</li>
<li><em>Tumbling windows </em> are a special case of fixed windows, where length and period are expressed in terms of number of items (instead of time)</li>
</ul></li>
<li><strong>Overlapping windows</strong> : when the length is greater than the period
<ul>
<li>E.g.: analyze the last 5 minutes of data every 2 minutes</li>
</ul></li>
<li><strong>Sampling windows</strong> : when the length is smaller than the period
<ul>
<li>E.g.: analyze the last 2 minutes of data every 5 minutes</li>
</ul></li>
</ul></li>
</ul>
</section>

<section id="data-driven-windows" class="title-slide slide level1 center">
<h1>Data-driven windows</h1>
<ul>
<li><strong>Data-driven windows define the length in terms of the content that comes with the data</strong>
<ul>
<li>In this case, the period determines the <em>update interval</em></li>
</ul></li>
<li>Typical use case: sessions
<ul>
<li>A session is a sequence of events terminated by a gap of inactivity grater than some timeout
<ul>
<li>Goal: determine the average amount of traffic generated by sessions</li>
</ul></li>
</ul></li>
<li>Main characteristic: <strong>apriori</strong>
<ul>
<li>How can I know when the session of a user has ended?</li>
<li>How can I know when the event of a user’s session are going to stop coming?</li>
</ul></li>
</ul>
</section>

<section id="algorithms" class="title-slide slide level1 center">
<h1>Algorithms</h1>
<ul>
<li>Consider <em>n </em> the space of events captured by the data stream</li>
<li>Streaming algorithm have the following requirements:
<ul>
<li><strong><em>One-pass</em></strong> ; once examined, items must be discarded</li>
<li>Use <strong>small space</strong> for the internal state: (O(polylog(n)))</li>
<li><strong>Fast update</strong> of the internal state: O(1) to O(polylog(n))</li>
<li><strong>Fast computation of answers</strong></li>
<li>Provide <strong>approximated answers with (ε, δ)-guarantees</strong>
<ul>
<li>Let R be the exact result, ε and δ &gt; 0</li>
<li>With probability at least 1 − δ, the algorithm outputs R’ such that (1 − ε)R ≤ R’ ≤ (1 + ε)R</li>
<li>For instance, take ε=0.02 and δ=0.01</li>
<li>Then, I have a 99% probability that the obtained result R’ equals the real result ± 2% #</li>
</ul></li>
</ul></li>
</ul>
<p>[One-Pass Streaming Algorithms] polylog(n) = (log n)^k https://stackoverflow.com/questions/1801135/what-is-the-meaning-of-o-polylogn-in-particular-how-is-polylogn-defined</p>
</section>

<section id="algorithms-examples" class="title-slide slide level1 center">
<h1>Algorithms (examples)</h1>
<ul>
<li>Given <strong>list</strong> as an input
<ul>
<li>Count the number of elements</li>
<li>Find the <em>n</em> th element</li>
</ul></li>
<li>Given <strong>a list of numbers</strong>
<ul>
<li>Find the <em>k</em> largest or smallest elements ( <em>k</em> given in advance)</li>
<li>Find the sum/mean/variance/st.dev. of the elements of the list</li>
</ul></li>
<li>Given <strong>a list of symbols from an alphabet</strong> of k symbols (given in advance)
<ul>
<li>Count the number of times each symbol appears in the input ( <em>frequency</em> )</li>
<li>Find the most or least frequent elements ( <em>heavy hitters</em> )</li>
<li>Sort the list according to some order on the symbols</li>
<li>Find the maximum gap between two appearances of a given symbol #</li>
</ul></li>
</ul>
<p>Wikipedia: la solvibilità di questi algoritmi è legata al fatto che per «one-pass» si intendono algoritmi che hanno storage&lt;O(n) e O(1) di update – motivo per cui, quelli che non sono solvibili, non lo sono perché non possono tenere tutta la lista in memoria</p>
<ul>
<li>Some problems are **** solvable by one-pass algorithms</li>
<li>Given <strong>any list</strong> as an input
<ul>
<li>Find the middle element of the list</li>
</ul></li>
<li>Given <strong>a list of numbers</strong>
<ul>
<li>Find the median</li>
<li>Find the most frequent symbol</li>
<li>Sort the list</li>
</ul></li>
</ul>
</section>

<section id="approximated-algorithms" class="title-slide slide level1 center">
<h1>Approximated algorithms</h1>
<ul>
<li>Analyzing a data stream is challenging due to:
<ul>
<li>Space constraints</li>
<li>Time constraints</li>
<li>Algorithm unfeasibility in one-pass</li>
</ul></li>
<li>One solution is to rely on <em>approximated algorithms</em></li>
<li>Approximation can be achieved by relying on two main concepts:
<ul>
<li>Sampling</li>
<li>Random projections</li>
</ul></li>
</ul>
</section>

<section id="approximation-by-sampling" class="title-slide slide level1 center">
<h1>Approximation by sampling</h1>
<ul>
<li>Many different sampling methods have been proposed
<ul>
<li><em>E.g., Distinct sampling, Quantile sampling, </em> <strong><em>Reservoir sampling</em></strong></li>
</ul></li>
<li>Sampling algorithms are known on time series and cash register models to
<ul>
<li>Find the number of distinct items</li>
<li>Find the quantiles</li>
<li>Find frequent items</li>
</ul></li>
<li>Notes
<ul>
<li>Some systems (e.g., IP packet sniffers) already do sampling</li>
<li>Sampling is not a powerful primitive for many problems
<ul>
<li>Too many samples for performing sophisticated analyses</li>
</ul></li>
<li>Sampling is more challenging in the turnstile model</li>
</ul></li>
</ul>
</section>

<section id="approximation-with-random-projections" class="title-slide slide level1 center">
<h1>Approximation with random projections</h1>
<ul>
<li>An approach that relies on <strong>dimensionality reduction</strong> , using projection along random vectors
<ul>
<li>Project high-dimensional data into a suitable lower-dimensional space…</li>
<li>… in a way which approximately preserves the distances between the points</li>
<li>Projections are called <em>sketches</em></li>
</ul></li>
<li>Random projection algorithms are known on (also) turnstile models to
<ul>
<li>Estimate the number of distinct elements at any time</li>
<li>Estimate the quantiles at any time</li>
<li>Track most frequent items, wavelets, histograms, etc.</li>
<li>Random subset sums, counting sketches, <strong>Bloom filters</strong></li>
</ul></li>
</ul>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Matteo Francia - Data Platforms and Artificial Intelligence - A.Y. 2025/26</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="steaming-raw_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="steaming-raw_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="steaming-raw_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="steaming-raw_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': true,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>